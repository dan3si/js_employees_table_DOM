{"version":3,"sources":["scripts/main.js"],"names":["employees","document","querySelectorAll","selectAdder","employee","onclick","currentActive","querySelector","classList","remove","add","pushNotification","top","right","title","description","type","notification","createElement","className","style","insertAdjacentHTML","body","append","setTimeout","categories","backwards","categoryIndex","push","sort","sorterConstructor","sortByIndex","back","itemFormatter","item","children","innerHTML","split","join","a","b","itemA","itemB","isNaN","toUpperCase","i","length","dblClickEvent","preventDefault","name","value","position","office","age","salary","newEmployee","Number","toLocaleString","replace","addEventListener","initialValue","target","textContent","input","exitEditMode","width","window","getComputedStyle","padding","focus","onblur","onkeyup","keyupEvent","which"],"mappings":"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","file":"main.8516313f.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst employees = [...document.querySelectorAll('tbody tr')];\r\n\r\n(function tableSorter() {\r\n  const categories = [...document.querySelectorAll(`thead th`)];\r\n  const backwards = [];\r\n\r\n  for (let categoryIndex = 0;\r\n    categoryIndex < categories.length;\r\n    categoryIndex++) {\r\n    backwards.push(false);\r\n\r\n    categories[categoryIndex].onclick = () => {\r\n      employees.sort(sorterConstructor(\r\n        categoryIndex, backwards[categoryIndex]\r\n      ));\r\n      backwards[categoryIndex] = !backwards[categoryIndex];\r\n\r\n      for (let i = 0; i < backwards.length; i++) {\r\n        if (i !== categoryIndex) {\r\n          backwards[i] = false;\r\n        }\r\n      }\r\n\r\n      document.querySelector('tbody').append(...employees);\r\n    };\r\n  };\r\n\r\n  function sorterConstructor(sortByIndex, back) {\r\n    function itemFormatter(item) {\r\n      return item.children[sortByIndex].innerHTML\r\n        .split('$').join('').split(',').join('');\r\n    };\r\n\r\n    return function(a, b) {\r\n      let itemA = itemFormatter(a);\r\n      let itemB = itemFormatter(b);\r\n\r\n      if (isNaN(itemA)) {\r\n        itemA = itemA.toUpperCase();\r\n        itemB = itemB.toUpperCase();\r\n      } else {\r\n        itemA = +itemA;\r\n        itemB = +itemB;\r\n      };\r\n\r\n      if (back) {\r\n        return itemB > itemA ? 1 : -1;\r\n      } else {\r\n        return itemB < itemA ? 1 : -1;\r\n      }\r\n    };\r\n  };\r\n})();\r\n\r\nselectAdder();\r\n\r\nfunction selectAdder() {\r\n  for (const employee of employees) {\r\n    employee.onclick = () => {\r\n      const currentActive = document.querySelector('.active');\r\n\r\n      if (currentActive) {\r\n        currentActive.classList.remove('active');\r\n      }\r\n\r\n      employee.classList.add('active');\r\n    };\r\n  }\r\n};\r\n\r\n(function formAdder() {\r\n  document.body.insertAdjacentHTML('beforeend', `\r\n    <form class=\"new-employee-form\" action=\"/\" method=\"GET\">\r\n      <label>\r\n        Name:\r\n        <input name=\"name\" type=\"text\" required>\r\n      </label>\r\n\r\n      <label>\r\n        Position:\r\n        <input name=\"position\" type=\"text\" required>\r\n      </label>\r\n\r\n      <label>\r\n        Office:\r\n        <select name=\"office\">\r\n          <option value=\"Tokyo\">Tokyo</option>\r\n          <option value=\"Singapore\">Singapore</option>\r\n          <option value=\"London\">London</option>\r\n          <option value=\"New York\">New York</option>\r\n          <option value=\"Edinburgh\">Edinburgh</option>\r\n          <option value=\"San Francisco\">San Francisco</option>\r\n        </select>\r\n      </label>\r\n\r\n      <label>\r\n        Age:\r\n        <input name=\"age\" type=\"number\" required>\r\n      </label>\r\n\r\n      <label>\r\n        Salary:\r\n        <input\r\n          name=\"salary\"\r\n          type=\"number\"\r\n          required\r\n          onkeyup=\"this.value = this.value.replace(/[A-Za-zА-Яа-яЁё]/, '');\"\r\n        >\r\n      </label>\r\n\r\n      <button type=\"submit\">Save to table</button>\r\n    </form>\r\n  `);\r\n\r\n  document.querySelector('button[type=submit]').onclick = (dblClickEvent) => {\r\n    dblClickEvent.preventDefault();\r\n\r\n    const name = document.querySelector('input[name=name]').value;\r\n    const position = document.querySelector('input[name=position]').value;\r\n    const office = document.querySelector('select[name=office]').value;\r\n    const age = document.querySelector('input[name=age]').value;\r\n    const salary = document.querySelector('input[name=salary]').value;\r\n\r\n    if (age < 18) {\r\n      pushNotification('10px', '10px', 'Error!',\r\n        `Age can't be less then 18`,\r\n        `error`\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    if (age > 90) {\r\n      pushNotification('10px', '10px', 'Error!',\r\n        `Age can't be greater then 90`,\r\n        `error`\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    if (name.length < 4) {\r\n      pushNotification('10px', '10px', 'Error!',\r\n        `Name can't be less than 4 letters.\r\n          <br>\r\n          So, if ur name is Ray, Bob, etc,\r\n          you are not able to use table. Goodluck:)`,\r\n        `error`\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    if (+salary === 0) {\r\n      pushNotification('10px', '10px', 'Error!',\r\n        `Incorrect salary value`,\r\n        `error`\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    const newEmployee = document.createElement('tr');\r\n\r\n    newEmployee.insertAdjacentHTML('beforeend', `\r\n      <td>${name}</td>\r\n      <td>${position}</td>\r\n      <td>${office}</td>\r\n      <td>${age}</td>\r\n      <td>$${Number(salary).toLocaleString().replace(/\\s/g, ',')}</td>\r\n    `);\r\n\r\n    document.querySelector('tbody').append(newEmployee);\r\n    employees.push(newEmployee);\r\n    selectAdder();\r\n\r\n    pushNotification('10px',\r\n      '10px',\r\n      'Success!',\r\n      `A new employee was added`,\r\n      `success`\r\n    );\r\n  };\r\n})();\r\n\r\nfunction pushNotification(top, right, title, description, type) {\r\n  const notification = document.createElement('div');\r\n\r\n  notification.className = `notification ${type}`;\r\n\r\n  notification.style = `\r\n    position: absolute;\r\n    top: ${top};\r\n    right: ${right};\r\n  `;\r\n\r\n  notification.insertAdjacentHTML('beforeend', `\r\n      <h2 class=\"title\">${title}</h2>\r\n      <p>${description}</p>\r\n    `\r\n  );\r\n\r\n  document.body.append(notification);\r\n\r\n  setTimeout(() => {\r\n    notification.remove();\r\n  }, 4000);\r\n};\r\n\r\n(function cellEditor() {\r\n  document.querySelector('tbody')\r\n    .addEventListener('dblclick', (dblClickEvent) => {\r\n      const initialValue = dblClickEvent.target.textContent;\r\n      const input = document.createElement('input');\r\n\r\n      input.className = 'cell-input';\r\n      input.value = initialValue;\r\n      input.style.width = window.getComputedStyle(dblClickEvent.target).width;\r\n\r\n      dblClickEvent.target.style.padding = '17px';\r\n      dblClickEvent.target.innerHTML = '';\r\n      dblClickEvent.target.append(input);\r\n      input.focus();\r\n\r\n      input.onblur = exitEditMode;\r\n\r\n      input.onkeyup = (keyupEvent) => {\r\n        if (keyupEvent.which === 13) {\r\n          exitEditMode();\r\n        }\r\n      };\r\n\r\n      function exitEditMode() {\r\n        dblClickEvent.target.innerHTML = input.value\r\n          ? input.value\r\n          : initialValue;\r\n      };\r\n    });\r\n})();\r\n"]}